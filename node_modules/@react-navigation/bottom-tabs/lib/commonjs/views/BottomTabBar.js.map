{"version":3,"sources":["BottomTabBar.tsx"],"names":["DEFAULT_TABBAR_HEIGHT","DEFAULT_MAX_TAB_ITEM_WIDTH","TabBarBottom","state","dimensions","Dimensions","get","layout","height","width","keyboard","visible","Animated","Value","handleOrientationChange","window","setState","handleKeyboardShow","timing","toValue","duration","useNativeDriver","start","handleKeyboardHide","finished","handleLayout","e","nativeEvent","renderLabel","route","focused","props","activeTintColor","inactiveTintColor","labelStyle","showLabel","showIcon","allowFontScaling","label","getLabelText","horizontal","shouldUseHorizontalLabels","color","styles","labelBeside","labelBeneath","renderIcon","activeOpacity","inactiveOpacity","iconHorizontal","iconVertical","adaptive","tabStyle","labelPosition","routes","isLandscape","position","maxTabItemWidth","flattenedStyle","StyleSheet","flatten","maxWidth","length","addEventListener","Platform","OS","Keyboard","addListener","removeEventListener","removeListener","descriptors","keyboardHidesTabBar","activeBackgroundColor","inactiveBackgroundColor","onTabPress","onTabLongPress","getAccessibilityLabel","getAccessibilityRole","getAccessibilityStates","renderButton","getTestID","style","insets","tabBar","transform","translateY","interpolate","inputRange","outputRange","bottom","paddingBottom","content","map","index","scene","accessibilityLabel","accessibilityRole","accessibilityStates","testID","backgroundColor","key","navigation","onPress","onLongPress","tab","tabLandscape","tabPortrait","children","React","Component","defaultProps","create","left","right","borderTopWidth","hairlineWidth","borderTopColor","elevation","flex","flexDirection","alignItems","justifyContent","textAlign","fontSize","marginBottom","marginLeft"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  View,\n  Animated,\n  StyleSheet,\n  Keyboard,\n  Platform,\n  LayoutChangeEvent,\n  ScaledSize,\n  Dimensions,\n} from 'react-native';\nimport { Route, NavigationContext } from '@react-navigation/core';\nimport { SafeAreaConsumer } from 'react-native-safe-area-context';\n\nimport TabBarIcon from './TabBarIcon';\nimport { BottomTabBarProps } from '../types';\n\ntype State = {\n  dimensions: { height: number; width: number };\n  layout: { height: number; width: number };\n  keyboard: boolean;\n  visible: Animated.Value;\n};\n\ntype Props = BottomTabBarProps & {\n  activeTintColor: string;\n  inactiveTintColor: string;\n};\n\nconst DEFAULT_TABBAR_HEIGHT = 50;\nconst DEFAULT_MAX_TAB_ITEM_WIDTH = 125;\n\nexport default class TabBarBottom extends React.Component<Props, State> {\n  static defaultProps = {\n    keyboardHidesTabBar: false,\n    activeTintColor: '#007AFF',\n    activeBackgroundColor: 'transparent',\n    inactiveTintColor: '#8E8E93',\n    inactiveBackgroundColor: 'transparent',\n    showLabel: true,\n    showIcon: true,\n    allowFontScaling: true,\n    adaptive: true,\n  };\n\n  state = {\n    dimensions: Dimensions.get('window'),\n    layout: { height: 0, width: 0 },\n    keyboard: false,\n    visible: new Animated.Value(1),\n  };\n\n  componentDidMount() {\n    Dimensions.addEventListener('change', this.handleOrientationChange);\n\n    if (Platform.OS === 'ios') {\n      Keyboard.addListener('keyboardWillShow', this.handleKeyboardShow);\n      Keyboard.addListener('keyboardWillHide', this.handleKeyboardHide);\n    } else {\n      Keyboard.addListener('keyboardDidShow', this.handleKeyboardShow);\n      Keyboard.addListener('keyboardDidHide', this.handleKeyboardHide);\n    }\n  }\n\n  componentWillUnmount() {\n    Dimensions.removeEventListener('change', this.handleOrientationChange);\n\n    if (Platform.OS === 'ios') {\n      Keyboard.removeListener('keyboardWillShow', this.handleKeyboardShow);\n      Keyboard.removeListener('keyboardWillHide', this.handleKeyboardHide);\n    } else {\n      Keyboard.removeListener('keyboardDidShow', this.handleKeyboardShow);\n      Keyboard.removeListener('keyboardDidHide', this.handleKeyboardHide);\n    }\n  }\n\n  private handleOrientationChange = ({ window }: { window: ScaledSize }) => {\n    this.setState({ dimensions: window });\n  };\n\n  private handleKeyboardShow = () =>\n    this.setState({ keyboard: true }, () =>\n      Animated.timing(this.state.visible, {\n        toValue: 0,\n        duration: 200,\n        useNativeDriver: true,\n      }).start()\n    );\n\n  private handleKeyboardHide = () =>\n    Animated.timing(this.state.visible, {\n      toValue: 1,\n      duration: 250,\n      useNativeDriver: true,\n    }).start(({ finished }) => {\n      if (finished) {\n        this.setState({ keyboard: false });\n      }\n    });\n\n  private handleLayout = (e: LayoutChangeEvent) => {\n    const { layout } = this.state;\n    const { height, width } = e.nativeEvent.layout;\n\n    if (height === layout.height && width === layout.width) {\n      return;\n    }\n\n    this.setState({\n      layout: {\n        height,\n        width,\n      },\n    });\n  };\n\n  private renderLabel = ({\n    route,\n    focused,\n  }: {\n    route: Route<string>;\n    focused: boolean;\n  }) => {\n    const {\n      activeTintColor,\n      inactiveTintColor,\n      labelStyle,\n      showLabel,\n      showIcon,\n      allowFontScaling,\n    } = this.props;\n\n    if (showLabel === false) {\n      return null;\n    }\n\n    const label = this.props.getLabelText({ route });\n    const horizontal = this.shouldUseHorizontalLabels();\n    const color = focused ? activeTintColor : inactiveTintColor;\n\n    if (typeof label === 'string') {\n      return (\n        <Animated.Text\n          numberOfLines={1}\n          style={[\n            styles.label,\n            { color },\n            showIcon && horizontal ? styles.labelBeside : styles.labelBeneath,\n            labelStyle,\n          ]}\n          allowFontScaling={allowFontScaling}\n        >\n          {label}\n        </Animated.Text>\n      );\n    }\n\n    if (typeof label === 'string') {\n      return label;\n    }\n\n    return label({ focused, color });\n  };\n\n  private renderIcon = ({\n    route,\n    focused,\n  }: {\n    route: Route<string>;\n    focused: boolean;\n  }) => {\n    const {\n      activeTintColor,\n      inactiveTintColor,\n      renderIcon,\n      showIcon,\n    } = this.props;\n\n    if (showIcon === false) {\n      return null;\n    }\n\n    const horizontal = this.shouldUseHorizontalLabels();\n\n    const activeOpacity = focused ? 1 : 0;\n    const inactiveOpacity = focused ? 0 : 1;\n\n    return (\n      <TabBarIcon\n        route={route}\n        size={horizontal ? 17 : 24}\n        activeOpacity={activeOpacity}\n        inactiveOpacity={inactiveOpacity}\n        activeTintColor={activeTintColor}\n        inactiveTintColor={inactiveTintColor}\n        renderIcon={renderIcon}\n        style={horizontal ? styles.iconHorizontal : styles.iconVertical}\n      />\n    );\n  };\n\n  private shouldUseHorizontalLabels = () => {\n    const { state, adaptive, tabStyle, labelPosition } = this.props;\n    const { dimensions } = this.state;\n    const { routes } = state;\n    const isLandscape = dimensions.width > dimensions.height;\n\n    if (labelPosition) {\n      let position;\n\n      if (typeof labelPosition === 'string') {\n        position = labelPosition;\n      } else {\n        position = labelPosition({ dimensions });\n      }\n\n      if (position) {\n        return position === 'beside-icon';\n      }\n    }\n\n    if (!adaptive) {\n      return false;\n    }\n\n    if (dimensions.width >= 768) {\n      // Screen size matches a tablet\n      let maxTabItemWidth = DEFAULT_MAX_TAB_ITEM_WIDTH;\n\n      const flattenedStyle = StyleSheet.flatten(tabStyle);\n\n      if (flattenedStyle) {\n        if (typeof flattenedStyle.width === 'number') {\n          maxTabItemWidth = flattenedStyle.width;\n        } else if (typeof flattenedStyle.maxWidth === 'number') {\n          maxTabItemWidth = flattenedStyle.maxWidth;\n        }\n      }\n\n      return routes.length * maxTabItemWidth <= dimensions.width;\n    } else {\n      return isLandscape;\n    }\n  };\n\n  render() {\n    const {\n      state,\n      descriptors,\n      keyboardHidesTabBar,\n      activeBackgroundColor,\n      inactiveBackgroundColor,\n      onTabPress,\n      onTabLongPress,\n      getAccessibilityLabel,\n      getAccessibilityRole,\n      getAccessibilityStates,\n      renderButton,\n      getTestID,\n      style,\n      tabStyle,\n    } = this.props;\n    const { routes } = state;\n\n    return (\n      <SafeAreaConsumer>\n        {insets => (\n          <Animated.View\n            style={[\n              styles.tabBar,\n              keyboardHidesTabBar\n                ? {\n                    // When the keyboard is shown, slide down the tab bar\n                    transform: [\n                      {\n                        translateY: this.state.visible.interpolate({\n                          inputRange: [0, 1],\n                          outputRange: [this.state.layout.height, 0],\n                        }),\n                      },\n                    ],\n                    // Absolutely position the tab bar so that the content is below it\n                    // This is needed to avoid gap at bottom when the tab bar is hidden\n                    position: this.state.keyboard ? 'absolute' : null,\n                  }\n                : null,\n              {\n                height: DEFAULT_TABBAR_HEIGHT + (insets ? insets.bottom : 0),\n                paddingBottom: insets ? insets.bottom : 0,\n              },\n              style,\n            ]}\n            pointerEvents={\n              keyboardHidesTabBar && this.state.keyboard ? 'none' : 'auto'\n            }\n          >\n            <View style={styles.content} onLayout={this.handleLayout}>\n              {routes.map((route, index) => {\n                const focused = index === state.index;\n                const scene = { route, focused };\n                const accessibilityLabel = getAccessibilityLabel({\n                  route,\n                });\n\n                const accessibilityRole = getAccessibilityRole({\n                  route,\n                });\n\n                const accessibilityStates = getAccessibilityStates(scene);\n\n                const testID = getTestID({ route });\n\n                const backgroundColor = focused\n                  ? activeBackgroundColor\n                  : inactiveBackgroundColor;\n\n                return (\n                  <NavigationContext.Provider\n                    key={route.key}\n                    value={descriptors[route.key].navigation}\n                  >\n                    {renderButton({\n                      route,\n                      onPress: () => onTabPress({ route }),\n                      onLongPress: () => onTabLongPress({ route }),\n                      testID,\n                      accessibilityLabel,\n                      accessibilityRole,\n                      accessibilityStates,\n                      style: [\n                        styles.tab,\n                        { backgroundColor },\n                        this.shouldUseHorizontalLabels()\n                          ? styles.tabLandscape\n                          : styles.tabPortrait,\n                        tabStyle,\n                      ],\n                      children: (\n                        <React.Fragment>\n                          {this.renderIcon(scene)}\n                          {this.renderLabel(scene)}\n                        </React.Fragment>\n                      ),\n                    })}\n                  </NavigationContext.Provider>\n                );\n              })}\n            </View>\n          </Animated.View>\n        )}\n      </SafeAreaConsumer>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  tabBar: {\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: '#fff',\n    borderTopWidth: StyleSheet.hairlineWidth,\n    borderTopColor: 'rgba(0, 0, 0, .3)',\n    elevation: 8,\n  },\n  content: {\n    flex: 1,\n    flexDirection: 'row',\n  },\n  tab: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  tabPortrait: {\n    justifyContent: 'flex-end',\n    flexDirection: 'column',\n  },\n  tabLandscape: {\n    justifyContent: 'center',\n    flexDirection: 'row',\n  },\n  iconVertical: {\n    flex: 1,\n  },\n  iconHorizontal: {\n    height: '100%',\n  },\n  label: {\n    textAlign: 'center',\n    backgroundColor: 'transparent',\n  },\n  labelBeneath: {\n    fontSize: 11,\n    marginBottom: 1.5,\n  },\n  labelBeside: {\n    fontSize: 12,\n    marginLeft: 20,\n  },\n});\n"]}