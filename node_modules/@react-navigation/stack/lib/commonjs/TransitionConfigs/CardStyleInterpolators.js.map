{"version":3,"sources":["CardStyleInterpolators.tsx"],"names":["cond","Animated","add","multiply","interpolate","forHorizontalIOS","current","next","screen","layouts","translateFocused","progress","inputRange","outputRange","I18nManager","isRTL","width","translateUnfocused","overlayOpacity","shadowOpacity","cardStyle","transform","translateX","overlayStyle","opacity","shadowStyle","forVerticalIOS","translateY","height","forModalPresentationIOS","index","insets","isLandscape","topOffset","statusBarHeight","top","aspectRatio","scale","borderRadius","overflow","borderTopLeftRadius","borderTopRightRadius","marginTop","forFadeFromBottomAndroid","closing","forRevealFromBottomAndroid","containerTranslateY","cardTranslateYFocused","cardTranslateYUnfocused","containerStyle","forScaleFromCenterAndroid"],"mappings":"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","sourcesContent":["import { I18nManager } from 'react-native';\nimport Animated from 'react-native-reanimated';\nimport {\n  StackCardInterpolationProps,\n  StackCardInterpolatedStyle,\n} from '../types';\n\nconst { cond, add, multiply, interpolate } = Animated;\n\n/**\n * Standard iOS-style slide in from the right.\n */\nexport function forHorizontalIOS({\n  current,\n  next,\n  layouts: { screen },\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\n  const translateFocused = interpolate(current.progress, {\n    inputRange: [0, 1],\n    outputRange: [I18nManager.isRTL ? -screen.width : screen.width, 0],\n  });\n  const translateUnfocused = next\n    ? interpolate(next.progress, {\n        inputRange: [0, 1],\n        outputRange: [\n          0,\n          multiply(I18nManager.isRTL ? -screen.width : screen.width, -0.3),\n        ],\n      })\n    : 0;\n\n  const overlayOpacity = interpolate(current.progress, {\n    inputRange: [0, 1],\n    outputRange: [0, 0.07],\n  });\n\n  const shadowOpacity = interpolate(current.progress, {\n    inputRange: [0, 1],\n    outputRange: [0, 0.3],\n  });\n\n  return {\n    cardStyle: {\n      transform: [\n        // Translation for the animation of the current card\n        { translateX: translateFocused },\n        // Translation for the animation of the card on top of this\n        { translateX: translateUnfocused },\n      ],\n    },\n    overlayStyle: { opacity: overlayOpacity },\n    shadowStyle: { shadowOpacity },\n  };\n}\n\n/**\n * Standard iOS-style slide in from the bottom (used for modals).\n */\nexport function forVerticalIOS({\n  current,\n  layouts: { screen },\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\n  const translateY = interpolate(current.progress, {\n    inputRange: [0, 1],\n    outputRange: [screen.height, 0],\n  });\n\n  return {\n    cardStyle: {\n      transform: [\n        // Translation for the animation of the current card\n        { translateY },\n      ],\n    },\n  };\n}\n\n/**\n * Standard iOS-style modal animation in iOS 13.\n */\nexport function forModalPresentationIOS({\n  index,\n  current,\n  next,\n  layouts: { screen },\n  insets,\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\n  const isLandscape = screen.width > screen.height;\n  const topOffset = isLandscape ? 0 : 10;\n  const statusBarHeight = insets.top;\n  const aspectRatio = screen.height / screen.width;\n\n  const progress = add(current.progress, next ? next.progress : 0);\n\n  const translateY = interpolate(progress, {\n    inputRange: [0, 1, 2],\n    outputRange: [\n      screen.height,\n      index === 0 ? 0 : topOffset,\n      (index === 0 ? statusBarHeight : 0) - topOffset * aspectRatio,\n    ],\n  });\n\n  const overlayOpacity = interpolate(progress, {\n    inputRange: [0, 1, 1.0001, 2],\n    outputRange: [0, 0.3, 1, 1],\n  });\n\n  const scale = isLandscape\n    ? 1\n    : interpolate(progress, {\n        inputRange: [0, 1, 2],\n        outputRange: [\n          1,\n          1,\n          screen.width ? 1 - (topOffset * 2) / screen.width : 1,\n        ],\n      });\n\n  const borderRadius = isLandscape\n    ? 0\n    : index === 0\n    ? interpolate(progress, {\n        inputRange: [0, 1, 2],\n        outputRange: [0, 0, 10],\n      })\n    : 10;\n\n  return {\n    cardStyle: {\n      overflow: 'hidden',\n      borderTopLeftRadius: borderRadius,\n      borderTopRightRadius: borderRadius,\n      marginTop: index === 0 ? 0 : statusBarHeight,\n      transform: [{ translateY }, { scale }],\n    },\n    overlayStyle: { opacity: overlayOpacity },\n  };\n}\n\n/**\n * Standard Android-style fade in from the bottom for Android Oreo.\n */\nexport function forFadeFromBottomAndroid({\n  current,\n  layouts: { screen },\n  closing,\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\n  const translateY = interpolate(current.progress, {\n    inputRange: [0, 1],\n    outputRange: [multiply(screen.height, 0.08), 0],\n  });\n\n  const opacity = cond(\n    closing,\n    current.progress,\n    interpolate(current.progress, {\n      inputRange: [0, 0.5, 0.9, 1],\n      outputRange: [0, 0.25, 0.7, 1],\n    })\n  );\n\n  return {\n    cardStyle: {\n      opacity,\n      transform: [{ translateY }],\n    },\n  };\n}\n\n/**\n * Standard Android-style reveal from the bottom for Android Pie.\n */\nexport function forRevealFromBottomAndroid({\n  current,\n  next,\n  layouts: { screen },\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\n  const containerTranslateY = interpolate(current.progress, {\n    inputRange: [0, 1],\n    outputRange: [screen.height, 0],\n  });\n  const cardTranslateYFocused = interpolate(current.progress, {\n    inputRange: [0, 1],\n    outputRange: [multiply(screen.height, 95.9 / 100, -1), 0],\n  });\n  const cardTranslateYUnfocused = next\n    ? interpolate(next.progress, {\n        inputRange: [0, 1],\n        outputRange: [0, multiply(screen.height, 2 / 100, -1)],\n      })\n    : 0;\n  const overlayOpacity = interpolate(current.progress, {\n    inputRange: [0, 0.36, 1],\n    outputRange: [0, 0.1, 0.1],\n  });\n\n  return {\n    containerStyle: {\n      overflow: 'hidden',\n      transform: [{ translateY: containerTranslateY }],\n    },\n    cardStyle: {\n      transform: [\n        { translateY: cardTranslateYFocused },\n        { translateY: cardTranslateYUnfocused },\n      ],\n    },\n    overlayStyle: { opacity: overlayOpacity },\n  };\n}\n\n/**\n * Standard Android-style reveal from the bottom for Android Q.\n */\nexport function forScaleFromCenterAndroid({\n  current,\n  next,\n  closing,\n}: StackCardInterpolationProps): StackCardInterpolatedStyle {\n  const progress = add(current.progress, next ? next.progress : 0);\n\n  const opacity = interpolate(progress, {\n    inputRange: [0, 0.8, 1, 1.2, 2],\n    outputRange: [0, 0.5, 1, 0.33, 0],\n  });\n\n  const scale = cond(\n    closing,\n    interpolate(current.progress, {\n      inputRange: [0, 1],\n      outputRange: [0.9, 1],\n    }),\n    interpolate(progress, {\n      inputRange: [0, 1, 2],\n      outputRange: [0.85, 1, 1.1],\n    })\n  );\n\n  return {\n    containerStyle: {\n      opacity,\n      transform: [{ scale }],\n    },\n  };\n}\n"]}